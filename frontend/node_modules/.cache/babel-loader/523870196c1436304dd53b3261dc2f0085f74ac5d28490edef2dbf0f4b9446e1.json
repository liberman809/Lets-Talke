{"ast":null,"code":"import axios, { AxiosError } from 'axios';\nimport { store } from './store.js';\nimport { SET_CHATID, SET_CHATNAME, SET_PARTICIPANTS, SET_MANAGERS, SET_MESSAGES, SET_DESCRIPTION, SET_TYPE, SET_FOUNDER } from './chatReducer.js';\nimport io from 'socket.io-client';\nconst socket = io.connect(\"http://localhost:3030\");\nexport async function creatNewChat(chat) {\n  try {\n    const newChat = await axios.post(`http://localhost:3030/api/chat`, chat);\n    return newChat.data;\n  } catch (err) {}\n}\nexport async function setChat(chatId) {\n  try {\n    const chat = await axios.get(`http://localhost:3030/api/chat/${chatId}`);\n    store.dispatch({\n      type: SET_CHATID,\n      chatId: chat.data.data._id\n    });\n    store.dispatch({\n      type: SET_CHATNAME,\n      chatName: chat.data.data.name\n    });\n    store.dispatch({\n      type: SET_PARTICIPANTS,\n      participants: chat.data.data.participants\n    });\n    store.dispatch({\n      type: SET_MANAGERS,\n      managers: chat.data.data.managers\n    });\n    store.dispatch({\n      type: SET_MESSAGES,\n      messages: chat.data.data.messages\n    });\n    store.dispatch({\n      type: SET_DESCRIPTION,\n      description: chat.data.data.description\n    });\n    store.dispatch({\n      type: SET_TYPE,\n      chatType: chat.data.data.type\n    });\n    store.dispatch({\n      type: SET_FOUNDER,\n      founder: chat.data.data.creator\n    });\n  } catch (err) {}\n}\nexport async function addMsg(chatId) {\n  try {\n    console.log('addMsg action', chatId);\n    const chat = await axios.get(`http://localhost:3030/api/chat/${chatId}`);\n    store.dispatch({\n      type: SET_MESSAGES,\n      messages: chat.data.data.messages\n    });\n  } catch (err) {}\n}\nexport async function findChat(chatId) {\n  try {\n    const chat = await axios.get(`http://localhost:3030/api/chat/${chatId}`);\n    return chat.data;\n  } catch (err) {\n    console.log('err', err);\n  }\n}\nexport async function updateChat(chat, updates) {\n  try {\n    const updatChat = await axios.put(`http://localhost:3030/api/chat/${chat}`, updates);\n    setChat(chat);\n    return updatChat;\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport function resetGroup() {\n  store.dispatch({\n    type: SET_CHATID,\n    chatId: null\n  });\n  store.dispatch({\n    type: SET_CHATNAME,\n    chatName: null\n  });\n  store.dispatch({\n    type: SET_PARTICIPANTS,\n    participants: null\n  });\n  store.dispatch({\n    type: SET_MANAGERS,\n    managers: null\n  });\n  store.dispatch({\n    type: SET_MESSAGES,\n    messages: null\n  });\n  store.dispatch({\n    type: SET_DESCRIPTION,\n    description: null\n  });\n  store.dispatch({\n    type: SET_TYPE,\n    chatType: null\n  });\n  store.dispatch({\n    type: SET_FOUNDER,\n    founder: null\n  });\n}\nexport async function addNnewUser(chat, updates) {\n  try {\n    const updatChat = await axios.put(`http://localhost:3030/api/chat/${chat}`, updates);\n    setChat(chat);\n    store.dispatch({\n      type: SET_PARTICIPANTS,\n      participants: updatChat.data.participants\n    });\n\n    // return updatChat\n  } catch (err) {}\n}\nexport async function getLasMsg(id) {\n  try {\n    console.log('bbb', id);\n    const updatChat = await axios.get(`http://localhost:3030/api/chat/last/${id}`);\n  } catch (err) {}\n}","map":{"version":3,"names":["axios","AxiosError","store","SET_CHATID","SET_CHATNAME","SET_PARTICIPANTS","SET_MANAGERS","SET_MESSAGES","SET_DESCRIPTION","SET_TYPE","SET_FOUNDER","io","socket","connect","creatNewChat","chat","newChat","post","data","err","setChat","chatId","get","dispatch","type","_id","chatName","name","participants","managers","messages","description","chatType","founder","creator","addMsg","console","log","findChat","updateChat","updates","updatChat","put","resetGroup","addNnewUser","getLasMsg","id"],"sources":["C:/Users/ASUS/Desktop/projects/lets talke/frontend/src/store/chatActions.js"],"sourcesContent":["import axios, { AxiosError } from 'axios';\r\nimport { store } from './store.js'\r\nimport { SET_CHATID,SET_CHATNAME,SET_PARTICIPANTS,SET_MANAGERS,SET_MESSAGES,SET_DESCRIPTION,SET_TYPE,SET_FOUNDER } from './chatReducer.js'\r\nimport io from 'socket.io-client'\r\n\r\nconst socket = io.connect(\"http://localhost:3030\")\r\n\r\nexport async function creatNewChat(chat){\r\n    try{\r\n        const newChat = await axios.post(`http://localhost:3030/api/chat`,chat)\r\n        return newChat.data\r\n    }catch(err){\r\n    }\r\n}\r\n\r\nexport async function setChat(chatId){\r\n    try{\r\n        const chat = await axios.get(`http://localhost:3030/api/chat/${chatId}`)\r\n        \r\n        store.dispatch({\r\n            type: SET_CHATID,\r\n            chatId: chat.data.data._id\r\n        })\r\n        store.dispatch({\r\n            type: SET_CHATNAME,\r\n            chatName: chat.data.data.name\r\n        })\r\n        store.dispatch({\r\n            type: SET_PARTICIPANTS,\r\n            participants: chat.data.data.participants\r\n        })\r\n        store.dispatch({\r\n            type: SET_MANAGERS,\r\n            managers: chat.data.data.managers\r\n        })\r\n        store.dispatch({\r\n            type: SET_MESSAGES,\r\n            messages: chat.data.data.messages\r\n        })\r\n        store.dispatch({\r\n            type: SET_DESCRIPTION,\r\n            description: chat.data.data.description\r\n        })\r\n        store.dispatch({\r\n            type: SET_TYPE,\r\n            chatType: chat.data.data.type\r\n        })\r\n        store.dispatch({\r\n            type: SET_FOUNDER,\r\n            founder: chat.data.data.creator\r\n\r\n        })\r\n    }catch(err){\r\n\r\n    }\r\n}\r\n\r\nexport async function addMsg(chatId){\r\n    try{\r\n        console.log('addMsg action',chatId)\r\n        const chat = await axios.get(`http://localhost:3030/api/chat/${chatId}`)\r\n\r\n        store.dispatch({\r\n            type: SET_MESSAGES,\r\n            messages: chat.data.data.messages\r\n        })\r\n\r\n    }catch(err){\r\n\r\n    }\r\n}\r\n\r\nexport async function findChat(chatId) {\r\n    try{\r\n        const chat = await axios.get(`http://localhost:3030/api/chat/${chatId}`)\r\n        return chat.data\r\n    }catch(err){\r\n        console.log('err',err)\r\n    }\r\n}\r\n\r\nexport async function updateChat(chat,updates){\r\n    try{\r\n        const updatChat = await axios.put(`http://localhost:3030/api/chat/${chat}`,updates)\r\n        setChat(chat)\r\n        return updatChat\r\n    }catch(err){\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nexport function resetGroup(){\r\n\r\n    store.dispatch({\r\n        type: SET_CHATID,\r\n        chatId: null\r\n    })\r\n    store.dispatch({\r\n        type: SET_CHATNAME,\r\n        chatName: null\r\n    })\r\n    store.dispatch({\r\n        type: SET_PARTICIPANTS,\r\n        participants: null\r\n    })\r\n    store.dispatch({\r\n        type: SET_MANAGERS,\r\n        managers: null\r\n    })\r\n    store.dispatch({\r\n        type: SET_MESSAGES,\r\n        messages: null\r\n    })\r\n    store.dispatch({\r\n        type: SET_DESCRIPTION,\r\n        description: null\r\n    })\r\n    store.dispatch({\r\n        type: SET_TYPE,\r\n        chatType: null\r\n    })\r\n    store.dispatch({\r\n        type: SET_FOUNDER,\r\n        founder: null\r\n\r\n    })\r\n}\r\n\r\nexport async function addNnewUser(chat,updates){\r\n    try{\r\n        const updatChat = await axios.put(`http://localhost:3030/api/chat/${chat}`,updates)\r\n        setChat(chat)\r\n        store.dispatch({\r\n            type: SET_PARTICIPANTS,\r\n            participants: updatChat.data.participants\r\n        })    \r\n\r\n        // return updatChat\r\n\r\n    }catch(err){}\r\n}\r\n\r\n\r\nexport async function getLasMsg(id){\r\n    try{\r\n        console.log('bbb',id)\r\n        const updatChat = await axios.get(`http://localhost:3030/api/chat/last/${id}`)\r\n        \r\n    }catch(err){}\r\n}\r\n \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
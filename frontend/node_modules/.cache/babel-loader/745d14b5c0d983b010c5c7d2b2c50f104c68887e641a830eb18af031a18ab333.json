{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\projects\\\\lets talke\\\\frontend\\\\src\\\\components\\\\chatSide.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { setChat } from '../store/chatActions';\nimport { findChat } from '../store/chatActions';\nimport { findMessage } from '../store/massageActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ChatSide({\n  chat\n}) {\n  _s();\n  const [displayChat, setDisplayChat] = useState();\n  const [lastMagage, setLlastMesage] = useState();\n  useEffect(() => {\n    getChat(chat.chatId);\n  }, []);\n  useEffect(() => {\n    getChat(chat.chatId);\n  }, [displayChat]);\n  async function getChat(chatId) {\n    try {\n      const chat = await findChat(chatId);\n      setDisplayChat(chat.data);\n      const mesage = await findMessage(displayChat.messages[displayChat.messages.length - 1]);\n      console.log('mesage', mesage);\n      setLlastMesage(mesage);\n    } catch (err) {}\n  }\n  async function getLastMesage(messageId) {\n    try {\n      console.log('last');\n      const mesage = await findMessage(messageId);\n      setLlastMesage(mesage);\n    } catch (err) {}\n  }\n\n  // console.log('chat',chat)\n  // console.log('lastMagage',lastMagage)\n\n  if (chat && lastMagage) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatMenuName\",\n      onClick: () => setChat(chat.chatId),\n      children: [chat.chatName, lastMagage.text]\n    }, chat.chatName, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  }\n}\n_s(ChatSide, \"TResFtJWb98K/8Rk3kfWuaPybyU=\");\n_c = ChatSide;\nvar _c;\n$RefreshReg$(_c, \"ChatSide\");","map":{"version":3,"names":["useEffect","useState","setChat","findChat","findMessage","jsxDEV","_jsxDEV","ChatSide","chat","_s","displayChat","setDisplayChat","lastMagage","setLlastMesage","getChat","chatId","data","mesage","messages","length","console","log","err","getLastMesage","messageId","className","onClick","children","chatName","text","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/projects/lets talke/frontend/src/components/chatSide.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport {setChat} from '../store/chatActions'\r\n\r\nimport {findChat} from '../store/chatActions'\r\nimport {findMessage} from '../store/massageActions'\r\n\r\nexport function ChatSide({chat}){\r\n\r\n    const [displayChat,setDisplayChat] = useState()\r\n    const [lastMagage,setLlastMesage] = useState()\r\n\r\n    useEffect(() =>{\r\n        getChat(chat.chatId)\r\n    },[])\r\n\r\n    useEffect(() =>{\r\n        getChat(chat.chatId)\r\n    },[displayChat])\r\n\r\n\r\n    async function getChat(chatId){\r\n        try{\r\n            const chat = await findChat(chatId)\r\n            setDisplayChat(chat.data)\r\n            const mesage = await findMessage(displayChat.messages[displayChat.messages.length - 1])\r\n            console.log('mesage',mesage)\r\n            setLlastMesage(mesage)\r\n\r\n        }catch(err){}\r\n    }\r\n\r\n    async function getLastMesage(messageId) {\r\n        try{\r\n            console.log('last')\r\n            const mesage = await findMessage(messageId)\r\n            setLlastMesage(mesage)\r\n        }catch(err){\r\n\r\n        }\r\n    }\r\n\r\n    // console.log('chat',chat)\r\n    // console.log('lastMagage',lastMagage)\r\n\r\n    if(chat && lastMagage){\r\n        return <div key={chat.chatName} className='chatMenuName' onClick={() => setChat(chat.chatId)}>\r\n            {chat.chatName}\r\n            {lastMagage.text}\r\n        </div>\r\n    }\r\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAAQC,OAAO,QAAO,sBAAsB;AAE5C,SAAQC,QAAQ,QAAO,sBAAsB;AAC7C,SAAQC,WAAW,QAAO,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEnD,OAAO,SAASC,QAAQA,CAAC;EAACC;AAAI,CAAC,EAAC;EAAAC,EAAA;EAE5B,MAAM,CAACC,WAAW,EAACC,cAAc,CAAC,GAAGV,QAAQ,CAAC,CAAC;EAC/C,MAAM,CAACW,UAAU,EAACC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,CAAC;EAE9CD,SAAS,CAAC,MAAK;IACXc,OAAO,CAACN,IAAI,CAACO,MAAM,CAAC;EACxB,CAAC,EAAC,EAAE,CAAC;EAELf,SAAS,CAAC,MAAK;IACXc,OAAO,CAACN,IAAI,CAACO,MAAM,CAAC;EACxB,CAAC,EAAC,CAACL,WAAW,CAAC,CAAC;EAGhB,eAAeI,OAAOA,CAACC,MAAM,EAAC;IAC1B,IAAG;MACC,MAAMP,IAAI,GAAG,MAAML,QAAQ,CAACY,MAAM,CAAC;MACnCJ,cAAc,CAACH,IAAI,CAACQ,IAAI,CAAC;MACzB,MAAMC,MAAM,GAAG,MAAMb,WAAW,CAACM,WAAW,CAACQ,QAAQ,CAACR,WAAW,CAACQ,QAAQ,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC;MACvFC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACJ,MAAM,CAAC;MAC5BJ,cAAc,CAACI,MAAM,CAAC;IAE1B,CAAC,QAAMK,GAAG,EAAC,CAAC;EAChB;EAEA,eAAeC,aAAaA,CAACC,SAAS,EAAE;IACpC,IAAG;MACCJ,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnB,MAAMJ,MAAM,GAAG,MAAMb,WAAW,CAACoB,SAAS,CAAC;MAC3CX,cAAc,CAACI,MAAM,CAAC;IAC1B,CAAC,QAAMK,GAAG,EAAC,CAEX;EACJ;;EAEA;EACA;;EAEA,IAAGd,IAAI,IAAII,UAAU,EAAC;IAClB,oBAAON,OAAA;MAAyBmB,SAAS,EAAC,cAAc;MAACC,OAAO,EAAEA,CAAA,KAAMxB,OAAO,CAACM,IAAI,CAACO,MAAM,CAAE;MAAAY,QAAA,GACxFnB,IAAI,CAACoB,QAAQ,EACbhB,UAAU,CAACiB,IAAI;IAAA,GAFHrB,IAAI,CAACoB,QAAQ;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGzB,CAAC;EACV;AACJ;AAACxB,EAAA,CA5CeF,QAAQ;AAAA2B,EAAA,GAAR3B,QAAQ;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}